(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[10],{516:function(e,t,n){},525:function(e,t,n){"use strict";n.r(t);var i=n(0),c=(n(516),n(534)),s=n(125),l=n(535),a=n(176),r=n(5);const o=[{id:0,name:"\u0421\u0442\u043e\u043b",img:"https://idei.club/raznoe/uploads/posts/2023-05/1685343702_idei-club-p-obedennii-stol-vid-sverkhu-dizain-vkontakt-31.png"},{id:1,name:"\u0421\u0442\u0443\u043b",img:"https://cdn-icons-png.flaticon.com/512/1678/1678872.png"}];t.default=()=>{const e=Object(i.useRef)(),[t,n]=Object(i.useState)(null),[d,j]=Object(i.useState)(null),[p,b]=Object(i.useState)([{id:0,x:120,y:80},{id:1,x:140,y:60}]),u=Object(i.useCallback)((t=>{const n=e.current.getBoundingClientRect();null!==d&&b((e=>[...e.map(((e,i)=>i===d?{...e,x:t.clientX-n.left-50,y:t.clientY-n.top-50}:e))]))}),[d]);return Object(i.useEffect)((()=>{const t=e.current;return t.addEventListener("mousemove",u),()=>{t.removeEventListener("mousemove",u)}}),[u]),Object(r.jsxs)("div",{className:"planner",children:[Object(r.jsxs)("div",{className:"planner_controls",children:[Object(r.jsx)(a.a,{children:o.map((e=>Object(r.jsx)(c.a,{children:Object(r.jsxs)(a.a,{flexDirection:"column",children:[Object(r.jsx)("img",{width:100,height:100,src:e.img,alt:""}),Object(r.jsx)("br",{}),Object(r.jsx)(s.a,{onClick:()=>b([...p,{id:e.id,x:0,y:0}]),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})},e.id)))}),Object(r.jsx)("div",{className:"planner_coordinates-list",children:p.map(((e,i)=>Object(r.jsxs)("div",{onClick:()=>n(i),className:"planner_coordinates-item",style:{border:i===t?"1px solid gray":"1px solid white"},children:[Object(r.jsxs)("div",{className:"planner_coordinate-item",children:["x: ",e.x]}),Object(r.jsxs)("div",{className:"planner_coordinate-item",children:["y: ",e.y]}),Object(r.jsx)(s.a,{onClick:()=>b(p.filter(((e,t)=>t!==i))),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},i)))}),Object(r.jsxs)("div",{className:"planner_import-export",children:[Object(r.jsx)(l.a,{accept:"text/plain",showUploadList:!1,onChange:e=>{let t=e.file.originFileObj,n=new FileReader;n.readAsText(t),n.onload=()=>{b(JSON.parse(n.result))},n.onerror=()=>{console.log(n.error)}},children:Object(r.jsx)(s.a,{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})}),Object(r.jsx)(s.a,{onClick:()=>{let e=new File([JSON.stringify(p)],"draw.txt",{type:"text/plain"});!function(e){var t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","plan.txt"),t.textContent="asd",t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}(window.URL.createObjectURL(e))},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),Object(r.jsx)("div",{ref:e,className:"planner_draw-container",children:p.map(((e,i)=>{var c;return Object(r.jsx)("img",{draggable:!1,src:null===(c=o.find((t=>t.id===e.id)))||void 0===c?void 0:c.img,alt:"",id:i,className:"planner_image",style:{left:e.x,top:e.y,backgroundColor:i===t?"gray":"white"},onMouseDown:()=>{j(i),n(i)},onMouseUp:()=>j(null)},i)}))})]})}}}]);
//# sourceMappingURL=10.fcd91d01.chunk.js.map